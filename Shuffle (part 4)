#part 4

import random


def shuffle_playlist(self):
    if not self.head:
        print("Playlist is empty")
        return

    # Step 1: Put all songs into a list
    songs = []
    temp = self.head
    while temp:
        songs.append(temp)
        temp = temp.next

    # Step 2: Shuffle the list
    random.shuffle(songs)

    for i in range(len(songs)):
        if i > 0:
            songs[i].prev = songs[i-1]
        else:
            songs[i].prev = None

        if i < len(songs) - 1:
            songs[i].next = songs[i+1]
        else:
            songs[i].next = None


    self.head = songs[0]
    self.tail = songs[-1]
    self.current = self.head

    print("Playlist shuffled")
